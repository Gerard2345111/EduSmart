<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sign Up ‚Äî Homevia</title>

<style>
:root{
  --primary:#0f172a;
  --accent:#22c55e;
  --bg:#f8fafc;
  --card:#ffffff;
}
*{box-sizing:border-box;font-family:system-ui}
body{
  margin:0;
  background:var(--bg);
  display:flex;
  align-items:center;
  justify-content:center;
  height:100vh;
}
.card{
  background:var(--card);
  width:100%;
  max-width:420px;
  padding:2rem;
  border-radius:18px;
  box-shadow:0 20px 40px rgba(0,0,0,.08);
}
h2{text-align:center;margin-bottom:1.5rem}
input,button{
  width:100%;
  padding:14px;
  margin-bottom:1rem;
  border-radius:12px;
  border:1px solid #ddd;
}
button{
  background:var(--accent);
  color:#fff;
  border:none;
  font-weight:600;
  cursor:pointer;
}
button:disabled{opacity:.6}
small{text-align:center;display:block}
.error{color:red;text-align:center}
.success{color:green;text-align:center}
</style>
</head>

<body>

<div class="card">
  <h2>üè† Create Account</h2>

  <input id="name" placeholder="Full Name">
  <input id="email" type="email" placeholder="Email address">
  <input id="password" type="password" placeholder="Password">

  <button onclick="signup()">Create Account</button>

  <p id="msg"></p>

  <small>Already have an account?
    <a href="login.html">Login</a>
  </small>
</div>

<script>
const API = "https://homevia-backend.onrender.com/api";

async function signup(){
  const msg = document.getElementById("msg");
  msg.textContent = "";

  const res = await fetch(`${API}/auth/register`,{
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify({
      name:name.value,
      email:email.value,
      password:password.value
    })
  });

  const data = await res.json();

  if(!res.ok){
    msg.textContent = data.message || "Signup failed";
    msg.className = "error";
    return;
  }

  msg.textContent = "Account created! Redirecting...";
  msg.className = "success";

  setTimeout(()=>{
    window.location.href = "login.html";
  },1500);
}
</script>

</body>
</html>